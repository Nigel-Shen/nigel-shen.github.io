---
import ThemeToggle from './ThemeToggle.astro';

const navLinks = [
  { name: "Home", href: "/" },
  { name: "Research", href: "/research" },
  { name: "Blog", href: "/blog" },
  { name: "CV", href: "/cv" },
];
---

<nav id="main-nav" class="fixed top-0 left-0 w-full z-50 transition-all duration-300 -translate-y-full opacity-0">
  
  <div class="mx-auto px-4 sm:px-6 h-16 flex items-center justify-between bg-white/70 dark:bg-slate-950/70 backdrop-blur-md border-b border-slate-200/50 dark:border-slate-800/50 shadow-sm">
    
    <a href="/" class="hidden md:block text-lg font-bold text-slate-900 dark:text-slate-100 hover:text-blue-600 transition-colors">
      Nigel Shen
    </a>

    <div class="flex items-center gap-4 w-full md:w-auto justify-between md:justify-end">
      
      <div class="flex gap-4 sm:gap-6">
        {navLinks.map(link => (
          <a 
            href={link.href} 
            class="text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
          >
            {link.name}
          </a>
        ))}
      </div>

      <div class="h-4 w-px bg-slate-300 dark:bg-slate-700"></div>

      <ThemeToggle />
      
    </div>

  </div>
</nav>

<script>
  const nav = document.getElementById('main-nav');
  
  if (window.location.pathname === '/') {
    window.addEventListener('scroll', () => {
      // Show navbar slightly earlier (scrolled > 50px)
      if (window.scrollY > 50) {
        nav.classList.remove('-translate-y-full', 'opacity-0');
      } else {
        nav.classList.add('-translate-y-full', 'opacity-0');
      }
    });
  } else {
    nav.classList.remove('-translate-y-full', 'opacity-0');
  }
</script>